# Where's my RPi?
So to use the RPi in headless mode, you will need to find its IP address. To do this, we'll use the fact that we know the host name and the MAC address pattern. Here are a few solutions you can try(you need only pick one):

## **1. Using  mDNS**

**Multicast DNS** (mDNS) allows devices on a **local network** to automatically discover and communicate with each other using simple hostnames, without needing a central DNS server. It works by sending DNS queries to a special multicast address (`224.0.0.251` for IPv4) so that all nearby devices can respond if they own the requested name. This enables convenient name resolution like `hdipRpi.local` for accessing devices such Raspberry Pis, printers etc. on the same local network. mDNS is part of [Appleâ€™s Bonjour service](https://developer.apple.com/bonjour/) and is supported on most modern operating systems, including Linux (via Avahi), macOS, and Windows. 
Your Raspberry OS installed in the last step will support mDNS "out of the box"(ie you shouldn't have to configure it.
If you followed the instuctions as per the last step, you would have assigned "hdipRPi" as the host name to your RPi.

Make sure your RPi is powered up and within the reach of your Wifi network. 
Open a command Line and ping as follows: ``ping -4 hdipRpi.local``
If the service is supported, you should see something similar to the following:

````cmd
> ping -4 hdipRpi.local

Pinging hdipRpi.local [172.24.10.127] with 32 bytes of data:
Reply from 172.24.10.127: bytes=32 time=1ms TTL=64
Reply from 172.24.10.127: bytes=32 time=5ms TTL=64
Reply from 172.24.10.127: bytes=32 time=4ms TTL=64
Reply from 172.24.10.127: bytes=32 time=4ms TTL=64

Ping statistics for 172.24.10.127:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 1ms, Maximum = 5ms, Average = 3ms
````

The `-4` indicates that IP4 should be used. 

## 2. Use MAC address
From week 4 you know that the first 3 bytes of the MAC address is the [OUI](https://en.wikipedia.org/wiki/Organizationally_unique_identifier) and indicates the manufacturer/source of the device. In this case, for the Pi it will be ``88:A2:9E..., b8:27:eb:...`` or ``dc:a6:32:...`` .  
So one thing you can do is build up the arp cache on your computer by pinging every possible IP address on your network. If we do this, then the ARP table on your machine should contain the RPi MAC. Remember we used ``nmap`` in week4, lab1 to "see" the devices on your LAN. We can repeat the search to get a list, hopefully with the RPi in it:

- On the command line, run the following command replacing ``<YOUR_NETWORK>`` with the correct Network and subnet mask for your LAN (check it using `ipconfig/ifconfig`, probably be something like ``192.168.0.0/24``).  

~~~bash
nmap -sn <YOUR_NETWORK>
~~~
You should get a result similar to the following with the MAC and associated IP addresses(this was performed on a PC). 

~~~cmd
PS C:\> ipconfig

Windows IP Configuration

Wireless LAN adapter WiFi:

   Connection-specific DNS Suffix  . : localdomain
   Link-local IPv6 Address . . . . . : fe80::ea0b:779b:dceb:60da%11
   IPv4 Address. . . . . . . . . . . : 172.24.10.104
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 172.24.10.1

PS C:\Users\fxwal> nmap -sn 172.24.10.0/24
Starting Nmap 7.95 ( https://nmap.org ) at 2024-10-17 17:20 GMT Summer Time
Nmap scan report for 172.24.10.1
Host is up (0.0044s latency).
MAC Address: 00:E0:67:26:67:7F (eac Automation-consulting GmbH)
Nmap scan report for 172.24.10.73
Host is up (0.038s latency).
MAC Address: 00:68:EB:43:10:E5 (HP)
Nmap scan report for 172.24.10.106
Host is up (1.0s latency).
MAC Address: 5E:AF:5F:2C:C5:C3 (Unknown)
Nmap scan report for 172.24.10.122
Host is up (0.0030s latency).
MAC Address: 5C:62:8B:D2:CD:8A (TP-Link Limited)
Nmap scan report for 172.24.10.125
Host is up (0.16s latency).
MAC Address: 4E:BC:19:40:B8:B6 (Unknown)
Nmap scan report for 172.24.10.126
Host is up (0.36s latency).
MAC Address: F0:A7:31:CB:4C:A9 (TP-Link Limited)
Nmap scan report for 172.24.10.129
Host is up (0.30s latency).
MAC Address: DC:A6:32:1A:69:6D (Raspberry Pi Trading)
Nmap scan report for 172.24.10.104
Host is up.
Nmap done: 256 IP addresses (8 hosts up) scanned in 6.13 seconds
PS C:\Users\fxwal>
~~~

In the example above, we use the ipconfig result to get the network address and subnet mask of the local network. We then use this in the nmap command. 

Locate and record the RPi IP address.(it may take a while for the RPi to boot so try again if it's not there initially)


## 3. Use the router 
If you have administrator rights to your home router and can access the router management page then there usually is a facility to list all connected devices, including their host name and MAC address. As there are many home routers out there, how you access the network connection data will differ in each case.

## 4. Do it your own way

There are other tools and techniques for finding devices on a network. If the above doesn't work but you find an alternative solution, or what you think is a better solution, please share on Slack!
